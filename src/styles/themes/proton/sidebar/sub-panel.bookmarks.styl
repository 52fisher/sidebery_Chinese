@import '../../../utils'

#root
  --bookmarks-sub-panel-bar-height: 26px
  --bookmarks-sub-panel-height: 60vh

.BookmarksSubPanel
  --nav-height: calc(var(--bookmarks-sub-panel-bar-height) + 4px)

  position: relative
  width: 100%
  height: var(--bookmarks-sub-panel-bar-height)
  flex-shrink: 0
  z-index: 1000

.BookmarksSubPanel .overlay
  position: absolute
  width: 100%
  height: 0
  top: calc(var(--bookmarks-sub-panel-bar-height) - 100vh)
  background-color: var(--frame-bg)
  opacity: 0
  transition: opacity var(--d-fast)
.BookmarksSubPanel[data-active="true"] .overlay
  height: 100vh
  opacity: .7

.BookmarksSubPanel .sub-panel
  position: absolute
  top: 0
  height: calc(var(--bookmarks-sub-panel-height) + var(--bookmarks-sub-panel-bar-height))
  width: 100%
  transition: transform var(--d-fast)
.BookmarksSubPanel[data-active="true"] .sub-panel
  transform: translateY(calc(var(--bookmarks-sub-panel-height) * -1))
  box-shadow: 0 0 8px 0 #00000032

.BookmarksSubPanel .bar
  position: relative
  display: flex
  justify-content: center
  align-items: center
  width: 100%
  top: 0
  height: var(--bookmarks-sub-panel-bar-height)
  padding: 0 6px 0 2px
  background-color: var(--frame-bg)
  &:after
    content: ''
    position: absolute
    display: none
    top: 0
    left: 0
    width: 100%
    height: calc(100% + 5px)
    background-color: var(--toolbar-bg)
    z-index: -1
.BookmarksSubPanel .bar[data-loading="true"]:after
  display: block
  z-index: 1

.BookmarksSubPanel .bar .icon
  position: relative
  width: 10px
  height: 10px
  flex-shrink: 0
  fill: var(--frame-fg)
  margin: 4px
  opacity: .5
  transition: opacity var(--d-fast)
.BookmarksSubPanel .bar:hover .icon
.BookmarksSubPanel[data-active="true"] .bar .icon
  opacity: .7

.BookmarksSubPanel .bar .grip
  position: relative
  width: 100%
  height: 3px
  margin: 4px
  &:before
  &:after
    content: ''
    position: absolute
    width: 100%
    height: 1px
    background-color: var(--frame-fg)
    opacity: .2
    transition: opacity var(--d-fast)
  &:before
    top: 0
  &:after
    bottom: 0
.BookmarksSubPanel .bar:hover .grip
  &:before
  &:after
    opacity: .3
.BookmarksSubPanel[data-active="true"] .bar .grip
  &:before
  &:after
    opacity: .4

.BookmarksSubPanel .bar .len
  position: relative
  margin: 0 1px 0 4px
  font-size: rem(12)
  color: var(--frame-fg)
  opacity: .7

.BookmarksSubPanel .toggle-area
  position: relative
  width: 100%
  height: 100%

.BookmarksSubPanel .bar .icon-btn
  position: relative
  width: var(--bookmarks-sub-panel-bar-height)
  height: var(--bookmarks-sub-panel-bar-height)
  flex-shrink: 0
  fill: var(--toolbar-fg)
  opacity: .5
  transition: opacity var(--d-fast)
  > svg
    position: absolute
    top: 4px
    left: 4px
    width: 16px
    height: 16px
  &:before
    content: ''
    position: absolute
    top: 2px
    left: 2px
    width: calc(100% - 4px)
    height: calc(100% - 4px)
    border-radius: 4px
    background-color: var(--toolbar-fg)
    opacity: 0
.BookmarksSubPanel .bar:hover .icon-btn
  opacity: .7
.BookmarksSubPanel .bar .icon-btn:hover
  opacity: .9
.BookmarksSubPanel .bar .icon-btn:hover:before
  opacity: .2
.BookmarksSubPanel .bar .icon-btn:active
  opacity: .7
.BookmarksSubPanel .bar .icon-btn:active:before
  opacity: .1

.BookmarksSubPanel .nav
  position: relative
  display: flex
  justify-content: center
  align-items: center
  width: 100%
  height: var(--nav-height)
  background-color: var(--toolbar-bg)

.BookmarksSubPanel .nav .up-btn
.BookmarksSubPanel .nav .down-btn
  position: relative
  width: var(--nav-height)
  height: var(--nav-height)
  flex-shrink: 0
  cursor: pointer
  &:before
    content: ''
    position: absolute
    top: 2px
    left: 2px
    width: calc(100% - 4px)
    height: calc(100% - 4px)
    background-color: var(--toolbar-fg)
    border-radius: 4px
    opacity: 0
  > svg
    position: absolute
    top: calc(var(--nav-height) / 2 - 8px)
    left: calc(var(--nav-height) / 2 - 8px)
    width: 16px
    height: 16px
    fill: var(--toolbar-fg)
    opacity: .7
    transform: rotateZ(-90deg)
  &:hover
    &:before
      opacity: .2
    > svg
      opacity: 1
  &:active
    &:before
      opacity: .1
    > svg
      opacity: .7
  &[data-inactive="true"]
    opacity: .3
    cursor: default
    > svg
      opacity: .7
    &:before
      opacity: 0
.BookmarksSubPanel .nav .up-btn > svg
  transform: rotateZ(90deg)

.BookmarksSubPanel .nav .title-block
  position: relative
  width: calc(100% - 4px)
  padding: 0 2px
  overflow: hidden

.BookmarksSubPanel .nav .title
  position: relative
  font-size: rem(15)
  font-weight: 700
  text-align: center
  color: var(--toolbar-fg)
  overflow: hidden
  text-overflow: ellipsis
  white-space: nowrap

.BookmarksSubPanel .content
  position: absolute
  top: var(--nav-height)
  padding-top: var(--general-margin)
  height: calc(100% - var(--nav-height))
  width: 100%
  background-color: var(--frame-bg)

.BookmarksSubPanel .bookmarks-tree
  position: relative
  padding: 0 0 32px 0

.BookmarksSubPanel .loading-screen
  position: relative
  width: 100%
  height: 100%
  background-color: var(--frame-bg)
