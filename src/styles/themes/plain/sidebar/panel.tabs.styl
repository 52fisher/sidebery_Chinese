@import '../../../mixins'

.TabsPanel .container
  position: relative
  width: calc(100% - 1px)
  height: 100%
  min-height: 100%
  transition: transform var(--d-fast), opacity var(--d-fast)
  // Transition container
  > div
    position: relative
    width: 100%
    height: 100%
  // Extra space at the bottom
  > div > div:last-of-type
    margin-bottom: 64px

.TabsPanel .new-tab-btns
  position: sticky
  bottom: -1px
  display: flex
  width: 100%
  flex-wrap: wrap
  z-index: 10
  grid-gap: 1px
  background-color: var(--toolbar-bg)
  z-index: 1
  transition: transform var(--d-fast), opacity var(--d-fast), z-index var(--d-fast) var(--d-fast)
  &[data-new-tab-bar-position="bottom"]
    position: relative
    bottom: auto
  &:before
    content: ''
    position: absolute
    top: 0
    left: -8px
    width: calc(100% + 16px)
    height: 100%
    transition: box-shadow var(--d-fast)
    box-shadow: 0 -10px 12px -10px #00000000, 0 -1px 0 0 #00000000

.ScrollBox .bottom-shadow[data-show="true"] + .scroll-container .new-tab-btns
  transition: transform var(--d-fast), opacity var(--d-fast)
  z-index: 1000
  &:before
    box-shadow: 0 -10px 12px -10px #00000064, 0 -1px 0 0 #00000008

.TabsPanel .new-tab-bg
  position: absolute
  top: 0
  left: 0
  width: 100%
  height: 100%
  background-color: var(--toolbar-bg-overlay)

.TabsPanel .new-tab-btn
  position: relative
  display: flex
  justify-content: center
  align-items: center
  height: 28px
  min-width: 30px
  flex-grow: 1
  transition: opacity var(--d-fast)
  background-color: var(--toolbar-bg)
  box-shadow: 0 0 3px 0 #00000016
  border-radius: var(--element-roundness)
  &:before
    content: ''
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%
    box-shadow: inset 0 0 0 1px var(--element-overlay-border)
    background-color: var(--element-overlay-bg)
    opacity: 0
    border-radius: var(--element-roundness)
  > svg
  > img
    position: absolute
    width: 16px
    height: 16px
    fill: var(--color, var(--toolbar-fg))
  &.-custom
    flex-grow: 0
  > svg.-icon
  > img.-icon
    mask: radial-gradient(
      circle at calc(100% - 1px) calc(100% - 1px),
      #00000024,
      #00000024 7px,
      #000000 8px,
      #000000
    )
  > svg.-badge
    position: absolute
    top: calc(50% + 0px)
    left: calc(50% + 0px)
    width: 11px
    height: 11px
    padding: 2px
    fill: var(--color, var(--toolbar-fg))
  &[data-br="true"]
    height: 1px
    width: 100%
    opacity: 0
    > svg
      display: none
.TabsPanel .new-tab-btn:hover:before
  opacity: .1
.TabsPanel .new-tab-btn:active:before
.TabsPanel .new-tab-btn[data-active="true"]:active:before
  opacity: .5
.TabsPanel .new-tab-btn[data-active="true"]:before
  opacity: .3
.TabsPanel .new-tab-btns[data-sel="true"] .new-tab-btn:before
  opacity: .5
