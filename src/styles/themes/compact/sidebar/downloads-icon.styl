#root[data-color-scheme="dark"]
  --download-icon-border: #00000032
  --download-icon-active: #37adff
#root[data-color-scheme="light"]
  --download-icon-border: #00000064
  --download-icon-active: #0a84ff

.DownloadsIcon
  position: absolute
  width: 16px
  height: 16px
  overflow: hidden
  transition: opacity var(--d-norm)
  .progress
    position: absolute
    width: 12px
    height: 2px
    top: 0
    left: 2px
    overflow: hidden
    border-radius: 1px
    background-color: var(--toolbar-bg)
    box-shadow: 0 0 0 1px #00000000
    transition: opacity var(--d-norm), transform var(--d-norm), box-shadow var(--d-norm)
    &.-zero
      background-color: var(--toolbar-fg)
      transform: translateY(13px)
    &.-a
      transform: translateY(0)
      opacity: 0
    &.-b
      transform: translateY(0)
      opacity: 0
    &.-c
      transform: translateY(0)
      opacity: 0
    .bar
      position: absolute
      width: 100%
      height: 100%
      top: 0
      left: -100%
      background-color: var(--toolbar-fg)
      transform: translateX(100%)
      transition: transform var(--d-norm), background-color var(--d-norm)
  svg.icon
    top: 0px
    transform: translateY(0)
    transition: transform var(--d-norm), fill var(--d-norm)

// Download DONE
#root .DownloadsIcon[data-done="true"]
  opacity: 1
  .progress.-a .bar, .progress.-a
    animation: done-download-progress 1s
  svg.icon
    animation: done-download-arrow 1s

@keyframes done-download-progress
  0%
    background-color: var(--download-icon-active)
    transform: translateY(13px) scaleX(1)
  15%
    background-color: var(--download-icon-active)
    transform: translateY(14px) scaleX(1.33)
  30%
    background-color: var(--download-icon-active)
    transform: translateY(14px) scaleX(1)
  100%
    background-color: var(--toolbar-fg)
    transform: translateY(13px) scaleX(1)

@keyframes done-download-arrow
  0%
    transform: translateY(0%)
    opacity: 1
  22%
    transform: translateY(90%)
    opacity: 0
  23%
    transform: translateY(-90%)
    opacity: 0
  100%
    transform: translateY(0%)
    opacity: 1

// Download ERROR
#root .DownloadsIcon[data-error="true"]
  opacity: 1
  .progress.-zero
    animation: error-download-progress 1s
  svg.icon
    animation: error-download-arrow 1s

@keyframes error-download-progress
  0%
    background-color: #ff613d
    transform: translateY(13px) scaleX(1)
  15%
    background-color: #ff613d
    transform: translateY(13px) scaleX(1.33)
  30%
    background-color: #ff613d
    transform: translateY(13px) scaleX(1)
  100%
    background-color: var(--toolbar-fg)
    transform: translateY(13px) scaleX(1)

@keyframes error-download-arrow
  0%
    transform: translateY(0px) scaleY(1)
  20%
    transform: translateY(3px) scaleY(0.8)
  50%
    transform: translateY(0px) scaleY(1)
  100%
    transform: translateY(0px) scaleY(1)

#root .DownloadsIcon[data-mode="1"]
  opacity: 1
  .progress.-zero
    transform: translateY(16px)
  .progress.-a
    opacity: 1
    transform: translateY(2px)
    box-shadow: 0 0 0 1px var(--download-icon-border), 0 0 0 1px var(--toolbar-bg)
  .progress .bar
    background-color: var(--toolbar-bg)
    transform: translateX(0%)
  svg.icon
    transform: translateY(3px)

#root .DownloadsIcon[data-mode="2"]
  opacity: 1
  .progress
    box-shadow: 0 0 0 1px var(--download-icon-border), 0 0 0 1px var(--toolbar-bg)
  .progress.-b
    opacity: 1
    transform: translateY(2px)
  .progress.-a
    opacity: 1
    transform: translateY(5px)
  .progress .bar
    background-color: var(--toolbar-bg)
    transform: translateX(0%)
  svg.icon
    transform: translateY(4px)

#root .DownloadsIcon[data-mode="3"]
  opacity: 1
  .progress
    box-shadow: 0 0 0 1px var(--download-icon-border), 0 0 0 1px var(--toolbar-bg)
  .progress.-c
    opacity: 1
    transform: translateY(1px)
  .progress.-b
    opacity: 1
    transform: translateY(4px)
  .progress.-a
    opacity: 1
    transform: translateY(7px)
  .progress .bar
    background-color: var(--toolbar-bg)
    transform: translateX(0%)
  svg.icon
    transform: translateY(5px)

#root .DownloadsIcon .progress[data-loading="true"] .bar
  background-color: var(--download-icon-active)

#root .DownloadsIcon .progress[data-paused="true"] .bar
  background-color: var(--toolbar-fg)
