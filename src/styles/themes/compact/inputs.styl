@import '../../utils'

.inherit-text-styles
  font-family: inherit
  font-size: inherit
  font-weight: inherit
  line-height: inherit
  letter-spacing: inherit
  text-indent: inherit
  text-align: inherit
  color: inherit

// ---
// -- Commmon
// -
.TextField
  position: relative
  display: flex
  min-height: 42px
  justify-content: space-between
  align-items: center
  flex-wrap: wrap
  padding: 0 16px
  flex-shrink: 0
  cursor: pointer
  -moz-user-select: none

  &:before
    content: ''
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%
    border-radius: 3px
    background-color: #00000012
    opacity: 0
    transition: opacity var(--d-fast)

  &:not(:first-of-type):after
    content: ''
    position: absolute
    top: 0
    left: 1px
    width: calc(100% - 2px)
    height: 1px
    box-shadow: 0 -1px 0 0 var(--border)

  &.-no-separator:after
    display: none

  &:hover:before
    opacity: 1

  &:active:before
    transition: none
    opacity: .5

  &[data-inactive="true"]
    cursor: default

  &[data-inactive="true"] .body
    opacity: .3

  &.-sub-title
    min-height: 48px
    margin-top: 16px
    &:after
      display: none

.TextField .body
  position: relative
  display: flex
  width: 100%
  justify-content: space-between
  align-items: flex-start
  flex-wrap: nowrap

// ---
// -- Label
// -
.TextField .label
  position: relative
  font-size: rem(16)
  line-height: 26px
  padding: 8px 0
  align-self: flex-start
  color: var(--frame-fg)
  transition: color var(--d-fast)
.-sub-title .label
  font-size: rem(20)

// ---
// -- Note
// -
.TextField .note
  position: relative
  font-size: rem(13)
  width: 100%
  margin-top: -6px
  padding: 0 0 12px 16px
  white-space: pre-wrap
  color: var(--frame-fg)
  -moz-user-select: text

// ---
// -- Toggle/Select inputs
// -
.ToggleInput
.SelectInput
  position: relative
  display: flex
  max-width: calc(55% - 16px)
  justify-content: flex-end
  padding: 8px 0 8px 16px
  flex-wrap: wrap
  grid-gap: 0 1px
  cursor: pointer
  transform: translateZ(0)

// ---
// -- Options
// -
.ToggleInput .opt
.SelectInput .opt
  position: relative
  font-size: rem(14)
  font-weight: 600
  color: var(--toolbar-fg)
  transition: color var(--d-fast)
  flex-shrink: 0
  line-height: 26px
  opacity: .7
  &:before
    content: ''
    position: absolute
    top: 1px
    left: 0
    width: 100%
    height: calc(100% - 2px)
    border-radius: 3px
    background-color: var(--color, var(--toolbar-fg))
    opacity: 0
  > p
    position: relative
    display: block
    padding: 0 8px
    margin: 0
  > svg
    position: relative
    display: block
    width: 16px
    height: 16px
    padding: 7px 8px
    fill: var(--color, var(--toolbar-fg))
    transition: opacity var(--d-fast)
  &:hover
    opacity: 1
  &:hover:before
    opacity: .1

.SelectInput .opt[data-none="true"]:after
.ToggleInput .opt.-false:after
  content: ''
  position: absolute
  top: 1px
  left: 0
  width: 100%
  height: calc(100% - 2px)
  border-radius: 4px
  background-color: #ff2200
  opacity: 0

.ToggleInput .opt.-true:after
  content: ''
  position: absolute
  top: 1px
  left: 0
  width: 100%
  height: calc(100% - 2px)
  border-radius: 4px
  background-color: #00ff22
  opacity: 0

.SelectInput .opt[data-active="true"]
  color: var(--toolbar-fg-active)
  opacity: 1
.SelectInput .opt[data-active="true"]:before
.SelectInput .opt[data-active="true"]:after
  opacity: .2
  background-color: var(--toolbar-fg-active)

.ToggleInput[data-active="true"] .opt.-true
.ToggleInput[data-active="false"] .opt.-false
  opacity: 1
.ToggleInput[data-active="true"] .opt.-true:before
.ToggleInput[data-active="false"] .opt.-false:before
.ToggleInput[data-active="true"] .opt.-true:after
.ToggleInput[data-active="false"] .opt.-false:after
  opacity: .2

// ---
// -- Text input
// -
.TextInput
  position: relative
  display: flex
  margin: 11px 0
  line-height: 20px
  &:before
    content: ''
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%
    transform: translateZ(0)
    border-radius: 3px
    background-color: var(--toolbar-fg)
    opacity: .05
  &:after
    content: ''
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%
    border-radius: 3px
    box-shadow: inset 0 0 0 1px var(--toolbar-fg)
    opacity: .08
  &:hover:before
    opacity: .08
  &:hover:after
    opacity: .1
  &[data-active="true"]:before
    opacity: .1
  &[data-active="true"]:after
    opacity: .3
  &[data-valid="valid"][data-active="true"]:before
    box-shadow: inset 0 0 0 1px var(--status-ok)
  &[data-valid="invalid"]:before
    box-shadow: inset 0 0 0 1px var(--status-err)
  &[data-wrong="true"]
    animation: shake-animation .3s
    &:before
      animation: err-blink-animation 1s
  &[data-width="50"]
    width: 50%

// ---
// -- Input
// -
.TextInput input
.TextInput textarea
  @extend .inherit-text-styles
  position: relative
  display: block
  width: calc(100% - 8px)
  color: var(--frame-fg)
  -webkit-appearance: none
  border: none
  outline: none
  margin: 2px 0
  padding: 0 4px
  background-color: transparent
  resize: none
  z-index: 1

// ---
// -- Placeholder
// -
.TextInput .placeholder
  @extend .inherit-text-styles
  position: absolute
  top: 2px
  left: 4px
  max-width: 100%
  color: var(--frame-fg)
  white-space: nowrap
  overflow: hidden
  text-overflow: ellipsis
  padding: 0
  margin: 0
  opacity: 0
  transform: translateX(16px)
  transition: opacity var(--d-fast), transform var(--d-fast)

.TextInput[data-empty="true"] .placeholder
  opacity: 1
  transform: translateX(0)

.TextInput[data-active="true"] .placeholder
  transform: translateX(3px)
