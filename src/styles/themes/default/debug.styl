@import '../../mixins'

.Debug
  box(absolute)
  size(100%, calc(100% - 64px))
  pos(64px, 0)
  -moz-user-select: text
  overflow-y: auto
  background-color: var(--bg)
  &:before
    content: ''
    box(absolute)
    size(100%, 1px)
    pos(0, 0)
    background-color: var(--border-flare-fg)

.Debug h1
  box(relative)
  size(100%)
  text(s: 2.5rem, w: 700)
  padding: 30px 0
  color: var(--title-fg)
  text-align: center

.Debug h2
  box(relative)
  size(100%)
  text(s: rem(28), w: 400)
  color: var(--sub-title-fg)
  text-align: center
  padding: 8px 0 15px

.Debug .info
  box(relative, flex)
  size(100%)
  flex-wrap: wrap
  justify-content: center
  padding: 0 0 16px

// ---
// -- Storage section
// -
.Debug .storage-section
  box(relative)

.Debug .storage-viewer
  box(fixed)
  pos(0, 0)
  size(calc(100% - 64px), same)
  text(monospace, s: rem(11))
  background-color: var(--bg)
  color: var(--true-fg)
  overflow: auto
  padding: 32px
  z-index: 100
  white-space: pre

.Debug .storage-prop
  box(relative, flex)
  size(100%)
  align-items: center
  padding: 1px 5px
  border-radius: 3px
  grid-gap: 8px
  &:nth-child(2n+1)
    background-color: #00000012
  &:hover
    background-color: #00000024

.Debug .storage-prop .name
  box(relative)
  text(s: rem(16))
  color: var(--label-fg)
  margin-right: auto
  white-space: nowrap
  overflow: hidden
  text-overflow: ellipsis

.Debug .storage-prop .size
  box(relative)
  text(s: rem(14))
  color: var(--info-fg)
  white-space: nowrap

.Debug .storage-prop .depr
  box(relative)
  text(s: rem(11))
  color: #ffffff
  white-space: nowrap
  opacity: 0
  box-shadow: 0 0 0 1px var(--false-fg)
  background-color: var(--false-bg)
  border-radius: 3px
  padding: 1px 2px
  text-transform: uppercase
.Debug .storage-prop[data-depr="true"] .depr
  opacity: .3

.Debug .storage-prop .del-btn
  box(relative)
  text(s: rem(14))
  color: var(--false-fg)
  white-space: nowrap
  cursor: pointer
  -moz-user-select: none
  &:hover
    opacity: .7
  &:active
    opacity: .5
.Debug .storage-prop[data-depr="true"] .del-btn
  color: var(--true-fg)

.Debug .storage-prop .open-btn
  box(relative)
  text(s: rem(14))
  color: var(--active-fg)
  white-space: nowrap
  cursor: pointer
  -moz-user-select: none
  &:hover
    opacity: .7
  &:active
    opacity: .5
.Debug .storage-prop[data-depr="true"] .open-btn
  color: var(--true-fg)

.Debug section
  box(relative, flex)
  size(250px)
  align-items: center
  flex-direction: column
  padding: 0 0 32px

.Debug .sub
  box(relative)
  size(100%, max-w: 200px)
  padding: 0 8px

  .label
    text(s: rem(14))

.Debug .separator
  box(relative)
  size(100%, 1px, max-w: 220px)
  background-color: #00000032
  box-shadow: 0 1px 0 0 #78787816
  margin: 3px 0

.Debug .field
  box(relative, flex)
  size(calc(100% - 16px), max-w: 200px)
  justify-content: space-between
  align-items: center
  padding: 0 8px
  
  .label
    box(relative)
    text(s: rem(15))
    flex-shrink: 1
    overflow: hidden
    text-overflow: ellipsis
    color: var(--label-fg)
  
  .value
    box(relative)
    text(monospace, s: rem(11))
    flex-shrink: 0
    color: var(--info-fg)
    &.-info
      color: var(--active-fg)

.Debug .windows
  box(relative, flex)
  size(100%)
  flex-wrap: wrap
  justify-content: center
  padding: 0 0 16px

  .window
    box(relative, flex)
    size(100%)
    flex-wrap: wrap
    justify-content: center
    padding: 0 0 16px

  .logs
    box(relative)
    size(250px)
    align-items: flex-start

  .log
    box(relative, flex)
    text(monospace, s: rem(11))
    justify-content: flex-start
    align-items: center
    padding: 0 0 0 3px
    color: var(--info-fg)
    &:before
      content: ''
      box(absolute)
      size(5px, same)
      pos(l: -8px)
      border-radius: 50%
    &[data-type="info"]:before
      background-color: var(--true-fg)
    &[data-type="warn"]:before
      background-color: var(--false-fg)

  .tabs
    box(relative, flex)
    size(320px)
    align-items: center
    flex-direction: column
    padding: 0 0 32px
  
  .tab
    box(relative, flex)
    size(calc(100% - 16px), max-w: 300px)
    align-items: center
    justify-content: flex-start
    padding: 0 8px
  
  .refs
    box(relative)
    text(monospace, s: rem(10))
    flex-shrink: 1
    overflow: hidden
    text-overflow: ellipsis
    color: var(--label-fg)
    white-space: pre
    margin: 0 16px 0 0

  .flags
  .lvl
    box(relative)
    text(monospace, s: rem(10))
    flex-shrink: 0
    white-space: pre
    margin: 0 16px 0 0

  .flags
    box(flex)
    justify-content: flex-start
    align-items: center
    color: var(--inactive-fg)
    .-active
      color: var(--active-fg)

  .lvl
    text(s: rem(9))
    color: var(--info-fg)

.Debug .data
  box(relative, flex)
  size(100%)
  flex-wrap: wrap
  justify-content: space-around
  section
    box(relative)
    size(100%, max-w: 720px)
    h2
      box(relative)
      size(100%)
      text(s: 1.5rem, w: 600)
      color: var(--info-fg)
      text-align: center
      padding: 8px 0
    .json
      box(relative)
      size(100%)
      text(monospace, s: 10px)
      color: var(--true-fg)
      word-wrap: anywhere
      cursor: pointer
