{"version":3,"sources":["main.js"],"names":["document","title","browser","i18n","getMessage","logoEl","getElementById","innerText","msgEl","btnEl","permName","getAttribute","noteEl","reqBtnEl","origins","permissions","perm","push","addEventListener","request","then","runtime","reload"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA,KAAM,kBAAiB;AACrBA,EAAAA,QAAQ,CAACC,KAAT,GAAiBC,OAAO,CAACC,IAAR,CAAaC,UAAb,CAAwB,4BAAxB,CAAjB;AACA,QAAMC,MAAM,GAAGL,QAAQ,CAACM,cAAT,CAAwB,MAAxB,CAAf;AACA,MAAID,MAAJ,EAAYA,MAAM,CAACE,SAAP,GAAmBL,OAAO,CAACC,IAAR,CAAaC,UAAb,CAAwB,2BAAxB,CAAnB;AACZ,QAAMI,KAAK,GAAGR,QAAQ,CAACM,cAAT,CAAwB,KAAxB,CAAd;AACA,MAAIE,KAAJ,EAAWA,KAAK,CAACD,SAAN,GAAkBL,OAAO,CAACC,IAAR,CAAaC,UAAb,CAAwB,0BAAxB,CAAlB;AACX,QAAMK,KAAK,GAAGT,QAAQ,CAACM,cAAT,CAAwB,SAAxB,CAAd;;AACA,MAAIG,KAAJ,EAAW;AACT,UAAMC,QAAQ,GAAGD,KAAK,CAACE,YAAN,CAAmB,WAAnB,CAAjB;AACAF,IAAAA,KAAK,CAACF,SAAN,GAAkBL,OAAO,CAACC,IAAR,CAAaC,UAAb,CAAyB,eAAcM,QAAS,MAAhD,CAAlB;AACD;;AACD,QAAME,MAAM,GAAGZ,QAAQ,CAACM,cAAT,CAAwB,MAAxB,CAAf;AACA,MAAIM,MAAJ,EAAYA,MAAM,CAACL,SAAP,GAAmBL,OAAO,CAACC,IAAR,CAAaC,UAAb,CAAwB,2BAAxB,CAAnB;AACb,CAbI,EAAL,EAeA;;AACA,KAAM,kBAAiB;AACrB,QAAMS,QAAQ,GAAGb,QAAQ,CAACM,cAAT,CAAwB,SAAxB,CAAjB;AACA,MAAI,CAACO,QAAL,EAAe,OAFM,CAIrB;;AACA,QAAMC,OAAO,GAAG,EAAhB;AACA,QAAMC,WAAW,GAAG,EAApB;AACA,MAAIC,IAAI,GAAGH,QAAQ,CAACF,YAAT,CAAsB,WAAtB,CAAX;AACA,MAAIK,IAAI,KAAK,UAAb,EAAyBF,OAAO,CAACG,IAAR,CAAa,YAAb,EAAzB,KACK,IAAID,IAAJ,EAAUD,WAAW,CAACE,IAAZ,CAAiBD,IAAjB;AAEfH,EAAAA,QAAQ,CAACK,gBAAT,CAA0B,OAA1B,EAAmC,MAAM;AACvChB,IAAAA,OAAO,CAACa,WAAR,CAAoBI,OAApB,CAA4B;AAAEL,MAAAA,OAAF;AAAWC,MAAAA;AAAX,KAA5B,EAAsDK,IAAtD,CAA2D,MAAM;AAC/DlB,MAAAA,OAAO,CAACmB,OAAR,CAAgBC,MAAhB;AACD,KAFD;AAGD,GAJD;AAKD,CAhBI,EAAL","file":"main.1f19ae8e.map","sourceRoot":"../../src/permissions","sourcesContent":["// Translation\nvoid (async function() {\n  document.title = browser.i18n.getMessage('permissions.all_urls.title')\n  const logoEl = document.getElementById('logo')\n  if (logoEl) logoEl.innerText = browser.i18n.getMessage('permissions.all_urls.logo')\n  const msgEl = document.getElementById('msg')\n  if (msgEl) msgEl.innerText = browser.i18n.getMessage('permissions.all_urls.msg')\n  const btnEl = document.getElementById('req_btn')\n  if (btnEl) {\n    const permName = btnEl.getAttribute('data-perm')\n    btnEl.innerText = browser.i18n.getMessage(`permissions.${permName}.btn`)\n  }\n  const noteEl = document.getElementById('note')\n  if (noteEl) noteEl.innerText = browser.i18n.getMessage('permissions.all_urls.note')\n})()\n\n// Permission requesting\nvoid (async function() {\n  const reqBtnEl = document.getElementById('req_btn')\n  if (!reqBtnEl) return\n\n  // Get permissions\n  const origins = []\n  const permissions = []\n  let perm = reqBtnEl.getAttribute('data-perm')\n  if (perm === 'all_urls') origins.push('<all_urls>')\n  else if (perm) permissions.push(perm)\n\n  reqBtnEl.addEventListener('click', () => {\n    browser.permissions.request({ origins, permissions }).then(() => {\n      browser.runtime.reload()\n    })\n  })\n})()\n"]}